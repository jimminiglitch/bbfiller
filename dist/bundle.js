(()=>{var e,t,n={26:()=>{document.addEventListener("DOMContentLoaded",(function(){console.log("ðŸ“± Initializing Mobile Enhancements...");const e=768,t=1024,n=300,o=500,i=5,a={isMobile:!1,isTablet:!1,touchStartX:0,touchStartY:0,touchStartTime:0,lastTapTime:0,isDragging:!1,longPressTimer:null,currentLayout:"desktop"};function s(){const n=window.innerWidth;a.isMobile=n<=e,a.isTablet=n>e&&n<=t,a.isMobile?a.currentLayout="mobile":a.isTablet?a.currentLayout="tablet":a.currentLayout="desktop",document.body.classList.remove("layout-mobile","layout-tablet","layout-desktop"),document.body.classList.add(`layout-${a.currentLayout}`)}function r(e){a.touchStartX=e.touches[0].clientX,a.touchStartY=e.touches[0].clientY,a.touchStartTime=Date.now(),a.isDragging=!1,a.longPressTimer=setTimeout((()=>{!function(e){const t=e.currentTarget;let n=document.getElementById("mobile-context-menu");n||(n=document.createElement("div"),n.id="mobile-context-menu",n.style.position="fixed",n.style.backgroundColor="rgba(0, 0, 0, 0.9)",n.style.border="1px solid #00ffff",n.style.borderRadius="5px",n.style.padding="10px",n.style.zIndex="10000",document.body.appendChild(n),document.addEventListener("touchstart",(e=>{"block"!==n.style.display||n.contains(e.target)||(n.style.display="none")})));const o=t.getAttribute("data-window")||t.id.replace("icon-","");n.innerHTML="",u(n,"Open",(()=>{"function"==typeof openWindow&&openWindow(o),n.style.display="none"}));const i=t.getBoundingClientRect();n.style.left=`${i.left}px`,n.style.top=`${i.bottom+10}px`,n.style.display="block"}(e)}),o)}function c(e){const t=e.touches[0].clientX,n=e.touches[0].clientY,o=Math.abs(t-a.touchStartX),s=Math.abs(n-a.touchStartY);(o>i||s>i)&&(clearTimeout(a.longPressTimer),a.isDragging=!0)}function d(e){if(clearTimeout(a.longPressTimer),!a.isDragging){const t=Date.now();a.touchStartTime,t-a.lastTapTime<n?(function(e){l(e)}(e),a.lastTapTime=0):(l(e),a.lastTapTime=t)}a.isDragging=!1}function l(e){const t=e.currentTarget,n=t.getAttribute("data-window")||t.id.replace("icon-","");"function"==typeof openWindow&&openWindow(n)}function u(e,t,n){const o=document.createElement("div");return o.textContent=t,o.style.padding="10px",o.style.color="#00ffff",o.style.fontFamily="'VT323', monospace",o.style.fontSize="16px",o.style.cursor="pointer",o.addEventListener("mouseover",(()=>{o.style.backgroundColor="rgba(0, 255, 255, 0.2)"})),o.addEventListener("mouseout",(()=>{o.style.backgroundColor="transparent"})),o.addEventListener("click",n),e.appendChild(o),o}function m(e){a.touchStartX=e.touches[0].clientX,a.touchStartY=e.touches[0].clientY,a.touchStartTime=Date.now(),a.isDragging=!1;const t=e.currentTarget.closest(".popup-window");t&&"function"==typeof focusWindow&&focusWindow(t.id),a.longPressTimer=setTimeout((()=>{!function(e){const t=e.currentTarget,n=t.closest(".popup-window");if(!n)return;let o=document.getElementById("window-context-menu");o||(o=document.createElement("div"),o.id="window-context-menu",o.style.position="fixed",o.style.backgroundColor="rgba(0, 0, 0, 0.9)",o.style.border="1px solid #00ffff",o.style.borderRadius="5px",o.style.padding="10px",o.style.zIndex="10000",document.body.appendChild(o),document.addEventListener("touchstart",(e=>{"block"!==o.style.display||o.contains(e.target)||(o.style.display="none")}))),o.innerHTML="",u(o,"Minimize",(()=>{"function"==typeof minimizeWindow&&minimizeWindow(n.id),o.style.display="none"})),u(o,"Maximize",(()=>{"function"==typeof toggleMaximize&&toggleMaximize(n.id),o.style.display="none"})),u(o,"Close",(()=>{"function"==typeof closeWindow&&closeWindow(n.id),o.style.display="none"}));const i=t.getBoundingClientRect();o.style.left=`${i.left}px`,o.style.top=`${i.bottom+10}px`,o.style.display="block"}(e)}),o)}function p(e){const t=e.touches[0].clientX,n=e.touches[0].clientY,o=Math.abs(t-a.touchStartX),s=Math.abs(n-a.touchStartY);if(o>i||s>i){clearTimeout(a.longPressTimer),a.isDragging=!0;const o=e.currentTarget.closest(".popup-window");if(o){const e=t-a.touchStartX,i=n-a.touchStartY,s=parseInt(o.style.left||0)+e,r=parseInt(o.style.top||0)+i;o.style.left=`${s}px`,o.style.top=`${r}px`,a.touchStartX=t,a.touchStartY=n}}}function h(e){if(clearTimeout(a.longPressTimer),!a.isDragging){const t=Date.now();t-a.lastTapTime<n?(function(e){const t=e.currentTarget.closest(".popup-window");t&&"function"==typeof toggleMaximize&&toggleMaximize(t.id)}(e),a.lastTapTime=0):(function(e){const t=e.currentTarget.closest(".popup-window");t&&"function"==typeof focusWindow&&focusWindow(t.id)}(e),a.lastTapTime=t)}a.isDragging=!1}function f(){s(),y()}function y(){a.isMobile?function(){if("function"==typeof window.openWindow){const e=window.openWindow;window.openWindow=function(t){const n=e(t);return n&&(n.style.width="100%",n.style.height="calc(100% - 40px)",n.style.left="0",n.style.top="0",n.classList.add("mobile-window")),n}}document.querySelectorAll(".popup-window").forEach((e=>{e.style.width="100%",e.style.height="calc(100% - 40px)",e.style.left="0",e.style.top="0",e.classList.add("mobile-window")})),document.querySelectorAll(".desktop-icon").forEach((e=>{e.style.width="80px",e.style.height="80px",e.style.margin="10px"}));const e=document.getElementById("start-bar");e&&(e.style.height="50px")}():a.isTablet?function(){if("function"==typeof window.openWindow){const e=window.openWindow;window.openWindow=function(t){const n=e(t);return n&&(n.style.width="80%",n.style.height="80%",n.style.left="10%",n.style.top="10%",n.classList.add("tablet-window")),n}}document.querySelectorAll(".popup-window").forEach((e=>{e.style.width="80%",e.style.height="80%",e.style.left="10%",e.style.top="10%",e.classList.add("tablet-window")})),document.querySelectorAll(".desktop-icon").forEach((e=>{e.style.width="70px",e.style.height="70px",e.style.margin="8px"}))}():function(){document.querySelectorAll(".popup-window").forEach((e=>{e.classList.remove("mobile-window","tablet-window")})),document.querySelectorAll(".desktop-icon").forEach((e=>{e.style.width="",e.style.height="",e.style.margin=""}));const e=document.getElementById("start-bar");e&&(e.style.height="")}()}setTimeout((function(){s(),function(){if(!document.querySelector('meta[name="viewport"]')){const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",document.head.appendChild(e),console.log("ðŸ“± Added viewport meta tag")}}(),function(){document.querySelectorAll(".desktop-icon").forEach((e=>{e.addEventListener("touchstart",r),e.addEventListener("touchmove",c),e.addEventListener("touchend",d)})),document.querySelectorAll(".popup-window").forEach((e=>{const t=e.querySelector(".window-header");t&&(t.addEventListener("touchstart",m),t.addEventListener("touchmove",p),t.addEventListener("touchend",h));const n=e.querySelector(".window-content");n&&n.addEventListener("touchstart",(e=>{e.stopPropagation()}))}));const e=document.getElementById("start-bar");e&&e.addEventListener("touchstart",(e=>{e.stopPropagation()}))}(),window.addEventListener("resize",f),y(),console.log(`ðŸ“± Mobile Enhancements initialized (${a.currentLayout} mode)`)}),1e3)}))},186:()=>{document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".folder-window"),t=e.dataset.folderName||"Folder";e.querySelector(".window-header").textContent="ðŸ“ "+t;const n=document.getElementById("folder-content");var o;(o=n).addEventListener("dragover",(e=>e.preventDefault())),o.addEventListener("drop",(e=>{e.preventDefault();const t=e.dataTransfer.getData("text/plain"),n=document.getElementById(t);n&&o!==n.parentElement&&o.appendChild(n)}))}))},208:()=>{document.addEventListener("DOMContentLoaded",(function(){console.log("ðŸªŸ Applying window size fix...");const e="640px",t="580px";if(document.querySelectorAll(".popup-window").forEach((function(n){n.style.width&&"auto"!==n.style.width||(n.style.width=e),n.style.height&&"auto"!==n.style.height||(n.style.height=t),console.log(`ðŸªŸ Set default size for window: ${n.id}`)})),"function"==typeof window.openWindow){const o=window.openWindow;window.openWindow=function(i){const a=o(i);return a&&(a.style.width=e,a.style.height=t,n(a),console.log(`ðŸªŸ Opened window with larger size: ${i}`)),a},console.log("ðŸªŸ Enhanced openWindow function with larger default size")}function n(e){const t=parseInt(e.style.width),n=parseInt(e.style.height),o=window.innerWidth,i=window.innerHeight,a=Math.max(0,(o-t)/2),s=Math.max(0,(i-n)/2);e.style.left=`${a}px`,e.style.top=`${s}px`}new MutationObserver((function(o){o.forEach((function(o){o.addedNodes.length&&o.addedNodes.forEach((function(o){o.classList&&o.classList.contains("popup-window")&&(o.style.width=e,o.style.height=t,n(o))}))}))})).observe(document.body,{childList:!0,subtree:!0}),console.log("ðŸªŸ Window size fix applied")}))},257:(e,t,n)=>{document.getElementById("icon-file-explorer").addEventListener("click",(()=>{Promise.resolve().then(n.t.bind(n,930,23))})),window.toadHoverAudio||(window.toadHoverAudio=new Audio("https://cdn.glitch.global/09e9ba26-fd4e-41f2-88c1-651c3d32a01a/hover.mp3?v=1746577634973"),window.toadHoverAudio.volume=.5,window.toadHoverAudio.addEventListener("play",(()=>{console.log("ðŸ”Š Toad hover sound playing!"),console.trace("Sound triggered from:")}))),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".popup-window").forEach((e=>{const t=e.id,n=e.querySelector(".window-header");if(!n)return;const o=n.querySelector(".minimize"),r=n.querySelector(".maximize"),c=n.querySelector(".close");o&&o.addEventListener("click",(()=>function(e){const t=document.getElementById(e);t&&(t.classList.add("window-minimizing"),setTimeout((()=>{if(t.classList.remove("window-minimizing"),t.classList.add("hidden"),t.style.display="none",function(e){if(document.getElementById(`taskbar-icon-${e}`))return;const t=document.getElementById(e);if(!t)return;const n=t.querySelector(".window-header span"),o=n?n.textContent.replace(".EXE",""):e.toUpperCase(),i=document.createElement("button");i.id=`taskbar-icon-${e}`,i.className="taskbar-icon";const a=document.createElement("span");a.textContent=o,i.appendChild(a),i.addEventListener("click",(()=>{s(e),i.remove()}));const r=document.getElementById("taskbar-icons");r&&r.appendChild(i)}(e),"snake"===e){const e=document.getElementById("snake-iframe");if(e)try{e.contentWindow.postMessage("pause","*")}catch(e){console.error("Could not pause snake game:",e)}}"toader"===e&&window.toadHoverAudio&&(window.toadHoverAudio.pause(),window.toadHoverAudio.currentTime=0)}),300))}(t))),r&&r.addEventListener("click",(e=>{!function(e){e.classList.contains("maximized")?(e.classList.remove("maximized"),e.style.top=e.dataset.prevTop,e.style.left=e.dataset.prevLeft,e.style.width=e.dataset.prevWidth,e.style.height=e.dataset.prevHeight):(e.dataset.prevTop=e.style.top,e.dataset.prevLeft=e.style.left,e.dataset.prevWidth=e.style.width,e.dataset.prevHeight=e.style.height,e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.classList.add("maximized"))}(e.currentTarget.closest(".popup-window"))})),c&&c.addEventListener("click",(()=>function(e){const t=document.getElementById(e);t&&(t.classList.add("window-closing"),setTimeout((()=>{const n=t.querySelector("video");if(n&&(n.pause(),n.currentTime=0),"music"===e){const e=t.querySelector("iframe");if(e&&e.contentWindow){const t=e.contentWindow.document.getElementById("music-player");t&&(t.pause(),t.currentTime=0)}}if("snake"===e){const e=document.getElementById("snake-iframe");if(e){const t=e.src;e.src="",setTimeout((()=>{e.src=t}),50)}}t.classList.remove("window-closing"),t.classList.add("hidden"),t.style.display="none","toader"===e&&window.toadHoverAudio&&(window.toadHoverAudio.pause(),window.toadHoverAudio.currentTime=0)}),300));const n=document.getElementById(`taskbar-icon-${e}`);n&&n.remove()}(t)));let d=!1,l=0,u=0;n.addEventListener("mousedown",(t=>{"BUTTON"!==t.target.tagName&&(d=!0,l=t.clientX-e.offsetLeft,u=t.clientY-e.offsetTop,e.style.zIndex=a(),e.classList.add("dragging"))})),document.addEventListener("mousemove",(t=>{if(d){if(e.classList.contains("maximized"))return;e.style.left=t.clientX-l+"px",e.style.top=t.clientY-u+"px"}}),{passive:!0}),document.addEventListener("mouseup",(()=>{d=!1,e.classList.remove("dragging")}),{passive:!0}),n.addEventListener("dblclick",(e=>{"BUTTON"!==e.target.tagName&&function(e){const t=document.getElementById(e);if(!t)return;!t.classList.contains("maximized")?(i[e]={parent:t.parentNode,next:t.nextSibling,position:t.style.position,top:t.style.top,left:t.style.left,right:t.style.right,bottom:t.style.bottom,width:t.style.width,height:t.style.height,transform:t.style.transform},t.classList.add("window-maximizing"),setTimeout((()=>{document.body.appendChild(t),t.classList.add("maximized"),t.classList.remove("window-maximizing"),Object.assign(t.style,{position:"fixed",top:"0",left:"0",right:"0",bottom:"36px",width:"auto",height:"auto",transform:"none",zIndex:a()})}),300)):(t.classList.add("window-restoring"),t.classList.remove("maximized"),setTimeout((()=>{const n=i[e]||{};Object.assign(t.style,{position:n.position||"absolute",top:n.top||"",left:n.left||"",right:n.right||"",bottom:n.bottom||"",width:n.width||"",height:n.height||"",transform:n.transform||"",zIndex:a()}),n.parent&&n.parent.insertBefore(t,n.next),t.classList.remove("window-restoring")}),300))}(t)})),["top","right","bottom","left","top-left","top-right","bottom-left","bottom-right"].forEach((t=>{const n=document.createElement("div");n.classList.add("resizer",`resizer-${t}`),e.appendChild(n);let o=!1;n.addEventListener("mousedown",(n=>{if(e.classList.contains("maximized"))return;n.preventDefault(),n.stopPropagation(),o=!0,e.classList.add("resizing"),e.style.zIndex=a();const i=n.clientX,s=n.clientY,r=Number.parseInt(getComputedStyle(e).width,10),c=Number.parseInt(getComputedStyle(e).height,10),d=e.offsetTop,l=e.offsetLeft;function u(n){if(!o)return;let a=r,u=c,m=d,p=l;if(t.includes("right")&&(a=Math.max(300,r+n.clientX-i)),t.includes("bottom")&&(u=Math.max(200,c+n.clientY-s)),t.includes("left")){const e=n.clientX-i;a=Math.max(300,r-e),p=l+e}if(t.includes("top")){const e=n.clientY-s;u=Math.max(200,c-e),m=d+e}e.style.width=`${a}px`,e.style.height=`${u}px`,e.style.top=`${m}px`,e.style.left=`${p}px`}window.addEventListener("mousemove",u,{passive:!0}),window.addEventListener("mouseup",(function t(){o=!1,e.classList.remove("resizing"),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",t)}),{passive:!0})}))}))})),setTimeout((()=>{document.querySelectorAll(".desktop-icon").forEach((e=>{const t=e.cloneNode(!0);e.parentNode&&e.parentNode.replaceChild(t,e),(e=t).addEventListener("dblclick",(()=>{e.dataset.window&&s(e.dataset.window)})),e.addEventListener("mouseenter",(()=>{e.classList.add("icon-hover")})),e.addEventListener("mouseleave",(()=>{e.classList.remove("icon-hover")})),e.addEventListener("mousedown",(t=>{t.preventDefault();const n=e.parentElement.getBoundingClientRect(),o=e.getBoundingClientRect();let i;e.classList.contains("selected")?i=Array.from(document.querySelectorAll(".desktop-icon.selected")):(document.querySelectorAll(".desktop-icon.selected").forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),i=[e]);const s=t.clientX-o.left,r=t.clientY-o.top,c=i.map((e=>{const t=e.getBoundingClientRect(),o=t.left-n.left,i=t.top-n.top;return e.style.left=`${o}px`,e.style.top=`${i}px`,e.style.zIndex=a(),{icon:e,startLeft:o,startTop:i}}));function d(e){const t=e.clientX-s-n.left-c[0].startLeft,o=e.clientY-r-n.top-c[0].startTop;c.forEach((({icon:e,startLeft:n,startTop:i})=>{e.style.left=`${n+t}px`,e.style.top=`${i+o}px`}))}document.addEventListener("mousemove",d,{passive:!0}),document.addEventListener("mouseup",(()=>{document.removeEventListener("mousemove",d)}),{once:!0,passive:!0})})),e.ondragstart=()=>!1})),function(){const e=document.getElementById("background-canvas");if(!e)return;const t=e.getContext("2d");if(!t)return;let n=[];function o(){n=Array.from({length:500},(()=>({x:Math.random()*e.width,y:Math.random()*e.height,z:Math.random()*e.width,o:Math.random()})))}window.addEventListener("resize",function(e){let t;return function(){const n=arguments;clearTimeout(t),t=setTimeout((()=>e.apply(this,n)),250)}}((()=>{e.width=window.innerWidth,e.height=window.innerHeight,o()}))),e.width=window.innerWidth,e.height=window.innerHeight,o(),requestAnimationFrame((function o(){(function(){t.fillStyle="rgba(0,0,0,1)",t.fillRect(0,0,e.width,e.height);for(let o of n){o.o+=.02*(Math.random()-.5),o.o=Math.max(.1,Math.min(1,o.o)),o.z-=2,o.z<=0&&(o.z=e.width,o.x=Math.random()*e.width,o.y=Math.random()*e.height,o.o=Math.random());const n=128/o.z,i=(o.x-e.width/2)*n+e.width/2,a=(o.y-e.height/2)*n+e.height/2,s=Math.max(.5,2*(1-o.z/e.width));t.globalAlpha=o.o,t.fillStyle="#fff",t.beginPath(),t.arc(i,a,s,0,2*Math.PI),t.fill()}t.globalAlpha=1})(),requestAnimationFrame(o)}))}(),setInterval((()=>{document.querySelectorAll(".glitch-me").forEach((e=>{Math.random()>.95&&(e.classList.add("glitching"),setTimeout((()=>e.classList.remove("glitching")),200+400*Math.random()))}))}),2e3),setInterval((()=>{if(Math.random()>.98){const e=document.createElement("div");e.className="screen-glitch",document.body.appendChild(e),setTimeout((()=>e.remove()),150+250*Math.random())}}),1e4),function(){const e=document.getElementById("start-button");e&&e.addEventListener("click",(()=>{const e=document.getElementById("start-menu");e&&("flex"===e.style.display?(e.classList.add("menu-hiding"),setTimeout((()=>{e.style.display="none",e.classList.remove("menu-hiding")}),300)):(e.style.display="flex",e.classList.add("menu-showing"),setTimeout((()=>{e.classList.remove("menu-showing")}),300)))}))}(),console.log("ðŸ–¼ï¸ Initializing iframe handling with display-only reload logic"),document.querySelectorAll("iframe").forEach((e=>{const t=e.src,n=e.closest(".popup-window");if(!n)return;let o="none"===n.style.display;new MutationObserver((i=>{i.forEach((i=>{if("style"===i.attributeName){const i="none"===n.style.display;o&&!i&&e.src!==t&&(console.log(`ðŸ”„ Window became visible, restoring iframe src: ${e.id||"unnamed"}`),e.src=t),o=i}}))})).observe(n,{attributes:!0,attributeFilter:["style"]}),console.log(`ðŸ” Observer attached to iframe: ${e.id||"unnamed"}`)}))}),1e3)}));let o=10;const i={};function a(){return++o}function s(e){const t=document.getElementById(e);if(!t)return;const n=document.getElementById("start-menu");if(n&&(n.style.display="none"),document.querySelectorAll(".popup-window").forEach((e=>e.classList.remove("active"))),t.querySelectorAll("iframe[data-src]").forEach((e=>{e.src||(e.src=e.dataset.src)})),t.querySelectorAll("video[data-src]").forEach((e=>{e.src||(e.src=e.dataset.src,e.load(),r()||e.play().catch((()=>{})))})),t.classList.remove("hidden"),t.classList.add("active"),t.style.display="flex",t.style.zIndex=a(),t.classList.add("window-opening"),setTimeout((()=>{t.classList.remove("window-opening")}),500),"toader"===e&&window.toadHoverAudio&&(console.log("Opening toader window, playing sound"),window.toadHoverAudio.currentTime=0,window.toadHoverAudio.play().catch((e=>console.log("Audio error:",e)))),"snake"===e){const e=document.getElementById("snake-iframe");if(e){const t=e.src;e.src="",setTimeout((()=>{e.src=t}),100)}}if(r())Object.assign(t.style,{top:"0",left:"0",width:"100vw",height:"calc(100vh - 36px)",transform:"none"});else{const n=i[e];n&&Object.assign(t.style,n);const o=t.getBoundingClientRect(),a=20,s=window.innerWidth,r=window.innerHeight;let c=o.width,d=o.height,l=o.left,u=o.top;o.width>s-2*a&&(c=s-2*a),o.height>r-2*a&&(d=r-2*a),o.left<a&&(l=a),o.top<a&&(u=a),o.right>s-a&&(l=s-a-c),o.bottom>r-a&&(u=r-a-d),Object.assign(t.style,{width:`${c}px`,height:`${d}px`,left:`${l}px`,top:`${u}px`})}}function r(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function c(){const e=document.getElementById("clock");if(e){const t=new Date,n=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),i=t.getSeconds().toString().padStart(2,"0");e.textContent=`${n}:${o}:${i}`,e.classList.add("clock-pulse"),setTimeout((()=>{e.classList.remove("clock-pulse")}),500)}}let d,l,u;function m(e){if(!u)return;const t=Math.min(e.clientX,d),n=Math.min(e.clientY,l),o=Math.abs(e.clientX-d),i=Math.abs(e.clientY-l);u.style.left=`${t}px`,u.style.top=`${n}px`,u.style.width=`${o}px`,u.style.height=`${i}px`;const a=u.getBoundingClientRect();document.querySelectorAll(".desktop-icon").forEach((e=>{const t=e.getBoundingClientRect(),n=t.left>=a.left&&t.right<=a.right&&t.top>=a.top&&t.bottom<=a.bottom;e.classList.toggle("selected",n)}))}function p(){u&&u.remove(),u=null}setInterval(c,1e3),c(),window.addEventListener("mousedown",(function(e){e.target.closest(".desktop-icon, .popup-window, #start-bar, #start-menu")||(d=e.clientX,l=e.clientY,u=document.createElement("div"),u.id="selection-rect",u.style.left=`${d}px`,u.style.top=`${l}px`,u.style.width="0px",u.style.height="0px",document.body.appendChild(u),document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("mouseup",p,{once:!0,passive:!0}),e.preventDefault())})),window.openWindow=s},275:()=>{document.addEventListener("DOMContentLoaded",(()=>{console.log("â™¿ Initializing Enhanced Accessibility Module...");const e={roles:{window:"dialog",desktop:"application",taskbar:"toolbar",startMenu:"menu",startButton:"button",desktopIcon:"button",windowContent:"region"},shortcuts:[{keys:["Escape"],ctrl:!1,alt:!1,shift:!1,action:function(){const t=o(e.selectors.activeWindow);if(!t)return;const n=r(t),i=o(e.selectors.closeButton,t);i&&(i.click(),c(e.announcements.windowClosed(n)))},description:"Close active window"},{keys:["Tab"],ctrl:!1,alt:!0,shift:!1,action:()=>d(1),description:"Switch to next window"},{keys:["Tab"],ctrl:!1,alt:!0,shift:!0,action:()=>d(-1),description:"Switch to previous window"},{keys:["m"],ctrl:!1,alt:!0,shift:!1,action:function(){const t=o(e.selectors.activeWindow);if(!t)return;const n=r(t);var i;i=t.id,console.log(`Minimize window: ${i}`),c(e.announcements.windowMinimized(n))},description:"Minimize active window"},{keys:["m"],ctrl:!1,alt:!0,shift:!0,action:function(){const t=o(e.selectors.activeWindow);if(!t)return;const i=r(t),a=t.classList.contains("maximized");n(t.id),setTimeout((()=>{const n=t.classList.contains("maximized");n&&!a?c(e.announcements.windowMaximized(i)):!n&&a&&c(e.announcements.windowRestored(i))}),100)},description:"Maximize/restore active window"},{keys:["F1"],ctrl:!1,alt:!1,shift:!1,action:function(){const e=o("#keyboard-shortcuts-help");e&&(t.lastFocusedElement=document.activeElement,e.style.display="block",t.shortcutsHelpVisible=!0,e.style.left="50%",e.style.top="50%",e.style.transform="translate(-50%, -50%)",e.focus(),c("Keyboard shortcuts help opened"))},description:"Show keyboard shortcuts help"},{keys:["h"],ctrl:!1,alt:!0,shift:!1,action:function(){if(t.isHighContrastMode=!t.isHighContrastMode,t.isHighContrastMode?(document.body.classList.add("high-contrast-mode"),c("High contrast mode enabled")):(document.body.classList.remove("high-contrast-mode"),c("High contrast mode disabled")),t.isHighContrastMode&&!o("#high-contrast-styles")){const e=document.createElement("style");e.id="high-contrast-styles",e.textContent="\n        .high-contrast-mode {\n          filter: invert(100%);\n        }\n        .high-contrast-mode img,\n        .high-contrast-mode video {\n          filter: invert(100%);\n        }\n        .high-contrast-mode * {\n          background-color: white !important;\n          color: black !important;\n          border-color: black !important;\n        }\n        .high-contrast-mode .window-active {\n          outline: 3px solid yellow !important;\n        }\n      ",document.head.appendChild(e)}},description:"Toggle high contrast mode"}],selectors:{desktop:".container",taskbar:"#start-bar",startButton:"#start-button",startMenu:"#start-menu",desktopIcons:".desktop-icon",windows:".popup-window",activeWindow:".window-active",windowTitle:".window-title",windowContent:".window-content",windowHeader:".window-header",closeButton:".close-btn"},announcements:{delay:50,windowOpened:e=>`${e} window opened`,windowClosed:e=>`${e} window closed`,windowMinimized:e=>`${e} window minimized`,windowMaximized:e=>`${e} window maximized`,windowRestored:e=>`${e} window restored`,startMenuOpened:"Start menu opened",startMenuClosed:"Start menu closed"}},t={lastFocusedElement:null,isHighContrastMode:!1,activeModalId:null,shortcutsHelpVisible:!1};function n(e){console.log(`Toggle maximize window: ${e}`)}function o(e,t=document){return t.querySelector(e)}function i(e,t=document){return Array.from(t.querySelectorAll(e))}function a(e,t={}){e&&Object.entries(t).forEach((([t,n])=>null!=n&&e.setAttribute(t,n)))}function s(e,{keys:t,ctrl:n,alt:o,shift:i}){return t.includes(e.key)&&!!e.ctrlKey===n&&!!e.altKey===o&&!!e.shiftKey===i}function r(t){if(!t)return"Window";const n=o(e.selectors.windowTitle,t);return n?.textContent?.trim()||t.id||"Window"}function c(t,n="polite"){const i=o("#sr-announcer");i&&(i.setAttribute("aria-live",n),i.textContent="",setTimeout((()=>{i.textContent=t}),e.announcements.delay))}function d(t){const n=i(e.selectors.windows).filter((e=>"none"!==e.style.display));if(!n.length)return;const a=o(e.selectors.activeWindow);let s=a?n.indexOf(a):-1;s=(s+t+n.length)%n.length;const d=n[s];var l;l=d.id,console.log(`Focus window: ${l}`),c(r(d)+" window activated")}function l(){i(e.selectors.windows).forEach((t=>{const s=o(e.selectors.windowTitle,t),c=r(t);s?(s.id||=`title-${t.id||Math.random().toString(36).substring(2,9)}`,a(t,{role:e.roles.window,"aria-labelledby":s.id,tabindex:"-1"})):a(t,{role:e.roles.window,"aria-label":c,tabindex:"-1"});const d=o(e.selectors.windowContent,t);d&&a(d,{role:e.roles.windowContent,"aria-label":`${c} content`});const l=o(e.selectors.closeButton,t);l&&a(l,{"aria-label":`Close ${c}`,tabindex:"0"});const u=o(e.selectors.windowHeader,t);u&&a(u,{role:"heading",tabindex:"0","aria-level":"1","aria-label":`${c} - double-click to maximize`}),function(t){if(!t)return;const a=o(e.selectors.windowHeader,t);a&&a.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),n(t.id))}));i('button, a, [role="button"]',t).forEach((e=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0")}))}(t)})),new MutationObserver((t=>{let n=!1;t.forEach((t=>{"childList"===t.type&&t.addedNodes.forEach((t=>{1===t.nodeType&&t.matches(e.selectors.windows)&&(n=!0,l(),u(t))}))})),n&&console.log("â™¿ New window detected, accessibility attributes applied")})).observe(document.body,{childList:!0,subtree:!0})}function u(e){e&&e.addEventListener("keydown",(t=>{if(e.classList.contains("window-active")&&e.classList.contains("modal")&&"Tab"===t.key){const n=function(e){return e?i('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex="0"]',e).filter((e=>{const t=window.getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&null!==e.offsetParent})):[]}(e);if(0===n.length)return;const o=n[0],a=n[n.length-1];t.shiftKey&&document.activeElement===o?(t.preventDefault(),a.focus()):t.shiftKey||document.activeElement!==a||(t.preventDefault(),o.focus())}}))}setTimeout((function(){try{!function(){const t=[{target:"#desktop-icons",text:"Skip to desktop icons"},{target:e.selectors.taskbar,text:"Skip to taskbar"}],n=document.createElement("div");n.className="skip-links",Object.assign(n.style,{position:"absolute",top:"0",left:"0",zIndex:"10000"}),t.forEach((({target:e,text:t})=>{const i=document.createElement("a");i.href=e,i.textContent=t,i.className="skip-link",Object.assign(i.style,{position:"absolute",top:"-40px",left:"0",padding:"8px",background:"#000",color:"#0ff",zIndex:"10000",transition:"top 0.2s ease",textDecoration:"none",fontWeight:"bold",border:"2px solid #0ff"}),i.addEventListener("focus",(()=>i.style.top="0")),i.addEventListener("blur",(()=>i.style.top="-40px")),i.addEventListener("click",(t=>{t.preventDefault();const n=o(e);n&&(n.focus(),n.scrollIntoView({behavior:"smooth"}))})),n.appendChild(i)})),document.body.prepend(n)}(),function(){const e=document.createElement("div");e.id="sr-announcer",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",Object.assign(e.style,{position:"absolute",width:"1px",height:"1px",padding:"0",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"}),document.body.appendChild(e)}(),function(){const t=o(e.selectors.desktop);t&&a(t,{role:e.roles.desktop,"aria-label":"Desktop",tabindex:"-1"});const n=o(e.selectors.taskbar);n&&a(n,{role:e.roles.taskbar,"aria-label":"Taskbar",tabindex:"0"}),function(){const t=o(e.selectors.startButton),n=o(e.selectors.startMenu);t&&(a(t,{role:e.roles.startButton,"aria-label":"Start Menu","aria-haspopup":"true","aria-expanded":"false",tabindex:"0"}),t.addEventListener("click",(()=>{const o="block"===n?.style.display;if(t.setAttribute("aria-expanded",String(o)),o){c(e.announcements.startMenuOpened);const t=n?i(e.selectors.startMenu+" a, "+e.selectors.startMenu+" button"):[];t.forEach((e=>{a(e,{role:"menuitem",tabindex:"0"})})),t.length>0&&t[0].focus()}else c(e.announcements.startMenuClosed)}))),n&&(a(n,{role:e.roles.startMenu,"aria-label":"Start Menu"}),n.addEventListener("keydown",(n=>{const o=i(e.selectors.startMenu+" a, "+e.selectors.startMenu+" button"),a=o.findIndex((e=>e===document.activeElement));switch(n.key){case"ArrowDown":n.preventDefault(),a<o.length-1?o[a+1].focus():o[0].focus();break;case"ArrowUp":n.preventDefault(),a>0?o[a-1].focus():o[o.length-1].focus();break;case"Escape":n.preventDefault(),t.click(),t.focus()}})))}(),i(e.selectors.desktopIcons).forEach((t=>{const n=t.querySelector("span")?.textContent||t.id.replace(/^icon-/,"");a(t,{role:e.roles.desktopIcon,tabindex:"0","aria-label":`Open ${n}`}),t.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.click())}))}))}(),document.addEventListener("keydown",(t=>{if(!["INPUT","TEXTAREA","SELECT"].includes(document.activeElement.tagName))for(const n of e.shortcuts)if(s(t,n)){t.preventDefault(),n.action();break}})),l(),document.addEventListener("focusin",(e=>{t.activeModalId||(t.lastFocusedElement=e.target)})),i(e.selectors.windows).forEach((e=>{u(e)})),document.addEventListener("windowOpened",(n=>{const i=n.detail?.windowId;if(!i)return;const a=o(`#${i}`);if(!a)return;l(),u(a),a.focus();const s=r(a);c(e.announcements.windowOpened(s)),a.classList.contains("modal")&&(t.activeModalId=i)})),document.addEventListener("windowClosed",(e=>{const n=e.detail?.windowId;n&&t.activeModalId===n&&(t.activeModalId=null,t.lastFocusedElement&&t.lastFocusedElement.focus())})),function(){const n=document.createElement("div");n.id="keyboard-shortcuts-help",n.className="popup-window",n.style.display="none",n.style.zIndex="10000",n.style.width="400px",n.style.height="auto",n.style.maxHeight="80vh",n.style.overflow="auto",n.innerHTML=`\n      <div class="window-header">\n        <div class="window-title">Keyboard Shortcuts</div>\n        <div class="window-controls">\n          <button class="close-btn" aria-label="Close keyboard shortcuts help">Ã—</button>\n        </div>\n      </div>\n      <div class="window-content">\n        <table style="width: 100%; border-collapse: collapse;">\n          <thead>\n            <tr>\n              <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ccc;">Shortcut</th>\n              <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ccc;">Description</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${e.shortcuts.map((e=>`\n              <tr>\n                <td style="padding: 8px; border-bottom: 1px solid #ccc;">\n                  ${e.ctrl?"Ctrl+":""}${e.alt?"Alt+":""}${e.shift?"Shift+":""}${e.keys[0]}\n                </td>\n                <td style="padding: 8px; border-bottom: 1px solid #ccc;">${e.description}</td>\n              </tr>\n            `)).join("")}\n          </tbody>\n        </table>\n      </div>\n    `,document.body.appendChild(n);const o=n.querySelector(".close-btn");o&&o.addEventListener("click",(()=>{n.style.display="none",t.shortcutsHelpVisible=!1,t.lastFocusedElement&&t.lastFocusedElement.focus()})),a(n,{role:e.roles.window,"aria-label":"Keyboard Shortcuts Help",tabindex:"-1"}),u(n)}(),console.log("â™¿ Enhanced Accessibility Module initialized successfully")}catch(e){console.error("â™¿ Error initializing accessibility enhancements:",e)}}),500)}));const e=document.createElement("style");e.textContent="\n  .high-contrast-mode {\n    filter: invert(100%);\n  }\n  .high-contrast-mode img,\n  .high-contrast-mode video {\n    filter: invert(100%);\n  }\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border: 0;\n  }\n",document.head.appendChild(e),console.log("Accessibility Enhancements script loaded"),style.backgroundColor="#000",skipLink.style.color="#00ffff",skipLink.style.zIndex="10000",skipLink.style.transition="top 0.2s ease",skipLink.addEventListener("focus",(()=>{skipLink.style.top="0"})),skipLink.addEventListener("blur",(()=>{skipLink.style.top="-40px"})),document.body.insertBefore(skipLink,document.body.firstChild),setTimeout(initAccessibility,1e3)},372:()=>{document.addEventListener("DOMContentLoaded",(()=>{console.log("ðŸš€ Vaporwave cursor initializing...");const e=document.createElement("div");e.className="custom-cursor";const t=document.createElement("div");t.className="cursor-dot",e.appendChild(t),document.body.appendChild(e),document.addEventListener("mousemove",(t=>{e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,e.style.transform="translate(-50%, -50%)"})),document.addEventListener("click",(()=>{t.classList.add("cursor-click"),setTimeout((()=>t.classList.remove("cursor-click")),300)})),console.log("âœ¨ Vaporwave cursor ready!")}))},413:()=>{!function(){const e={DOM:{cache:new Map,get(e){if(!this.cache.has(e)){const t=document.getElementById(e);return t&&this.cache.set(e,t),t}return this.cache.get(e)},query(e,t=document){const n=`query:${e}`;if(!this.cache.has(n)){const o=t.querySelector(e);return o&&this.cache.set(n,o),o}return this.cache.get(n)},queryAll:(e,t=document)=>t.querySelectorAll(e),create(e,t={},n=[]){const o=document.createElement(e);return Object.entries(t).forEach((([e,t])=>{"style"===e&&"object"==typeof t?Object.entries(t).forEach((([e,t])=>{o.style[e]=t})):"classList"===e&&Array.isArray(t)?t.forEach((e=>o.classList.add(e))):"dataset"===e&&"object"==typeof t?Object.entries(t).forEach((([e,t])=>{o.dataset[e]=t})):"events"===e&&"object"==typeof t?Object.entries(t).forEach((([e,t])=>{o.addEventListener(e,t)})):o.setAttribute(e,t)})),n.forEach((e=>{"string"==typeof e?o.appendChild(document.createTextNode(e)):e instanceof Node&&o.appendChild(e)})),o},addEvent:(e,t,n,o)=>(e.addEventListener(t,n,o),()=>{e.removeEventListener(t,n,o)}),clearCache(){this.cache.clear()}},Performance:{debounce(e,t=100){let n;return function(...o){clearTimeout(n),n=setTimeout((()=>e.apply(this,o)),t)}},throttle(e,t=100){let n;return function(...o){n||(e.apply(this,o),n=!0,setTimeout((()=>n=!1),t))}},rafCallback(e){let t=!1;return function(...n){t||(window.requestAnimationFrame((()=>{e.apply(this,n),t=!1})),t=!0)}},measure(e,t){const n=performance.now(),o=t(),i=performance.now();return console.log(`${e} took ${i-n}ms`),o}},Storage:{save(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error(`Error saving to localStorage: ${e}`),!1}},load(e,t=null){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return console.error(`Error loading from localStorage: ${e}`),t}},remove(e){try{return localStorage.removeItem(e),!0}catch(e){return console.error(`Error removing from localStorage: ${e}`),!1}},clear(){try{return localStorage.clear(),!0}catch(e){return console.error(`Error clearing localStorage: ${e}`),!1}}},Accessibility:{setAria(e,t){Object.entries(t).forEach((([t,n])=>{e.setAttribute(`aria-${t}`,n)}))},makeFocusable(e,t=0){e.setAttribute("tabindex",t)},announce(e,t="polite"){let n=document.getElementById("a11y-announcer");n||(n=document.createElement("div"),n.id="a11y-announcer",n.setAttribute("aria-live",t),n.setAttribute("aria-atomic","true"),n.style.position="absolute",n.style.width="1px",n.style.height="1px",n.style.padding="0",n.style.overflow="hidden",n.style.clip="rect(0, 0, 0, 0)",n.style.whiteSpace="nowrap",n.style.border="0",document.body.appendChild(n)),n.textContent="",setTimeout((()=>{n.textContent=e}),50)}},Device:{isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTouch:()=>"ontouchstart"in window||navigator.maxTouchPoints>0,isPortrait:()=>window.matchMedia("(orientation: portrait)").matches,getPixelRatio:()=>window.devicePixelRatio||1}};window.Utils=e}()},455:()=>{document.addEventListener("DOMContentLoaded",(function(){console.log("ðŸŒ€ Initializing extreme profile image effects");const e=setInterval((()=>{const t=document.querySelector(".profile-image"),n=document.querySelector(".image-glow-effect");t&&n&&(clearInterval(e),function(e,t){console.log("ðŸŒˆ Applying extreme trippy effects to profile image");const n=document.createElement("div");n.classList.add("fractal-overlay"),e.parentNode.appendChild(n);const o=[];for(let t=0;t<30;t++){const n=document.createElement("div");n.classList.add("profile-glitch-layer"),n.style.zIndex=2+t,n.style.opacity=.7-.1*t;const i=document.createElement("img");i.src=e.src,i.classList.add("layer-img"),n.appendChild(i),e.parentNode.insertBefore(n,e),o.push(n)}const i=document.createElement("canvas");i.width=150,i.height=150,i.classList.add("pixel-manipulation-canvas"),e.parentNode.appendChild(i);const a=i.getContext("2d"),s=new Image;s.crossOrigin="anonymous",s.src=e.src,s.onload=function(){a.drawImage(s,0,0,i.width,i.height),requestAnimationFrame(d)};const r=document.createElement("div");r.classList.add("geometric-shapes"),e.parentNode.appendChild(r);for(let e=0;e<15;e++){const e=document.createElement("div");e.classList.add("geo-shape");const t=Math.floor(3*Math.random());0===t?e.classList.add("geo-circle"):1===t?e.classList.add("geo-triangle"):e.classList.add("geo-square"),e.style.left=100*Math.random()+"%",e.style.top=100*Math.random()+"%";const n=5+20*Math.random();e.style.width=`${n}px`,e.style.height=`${n}px`,e.style.animationDelay=5*Math.random()+"s",r.appendChild(e)}setInterval((()=>{Math.random()<.4&&(e.classList.add("extreme-glitch"),o.forEach(((e,t)=>{const n=20*(Math.random()-.5),o=20*(Math.random()-.5);e.style.transform=`translate(${n}px, ${o}px)`;const i=Math.floor(360*Math.random()),a=1+3*Math.random(),s=.7+.6*Math.random(),r=.8+.8*Math.random(),c=Math.random()<.3?.3*Math.random():0;e.style.filter=`\n          hue-rotate(${i}deg) \n          saturate(${a}) \n          brightness(${s}) \n          contrast(${r}) \n          invert(${c})\n        `;const d=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion"],l=d[Math.floor(Math.random()*d.length)];e.style.mixBlendMode=l,e.style.opacity=.3+.7*Math.random(),e.classList.add("layer-glitching"),setTimeout((()=>{e.classList.remove("layer-glitching")}),500)})),n.classList.add("fractal-active"),setTimeout((()=>{e.classList.remove("extreme-glitch"),o.forEach(((e,t)=>{setTimeout((()=>{e.style.transform="translate(0, 0)",e.style.filter="none",e.style.mixBlendMode="normal",e.style.opacity=.7-.1*t}),50*t)})),n.classList.remove("fractal-active")}),500))}),1e3),setInterval((()=>{!function(){if(Math.random()<.3){const e=4*(Math.random()-.5),t=4*(Math.random()-.5),n=Math.floor(Math.random()*o.length);o[n].style.transform=`translate(${e}px, ${t}px)`,setTimeout((()=>{o[n].style.transform="translate(0, 0)"}),50)}}()}),100);let c=0;function d(){if(Math.random()<.3){const e=a.getImageData(0,0,i.width,i.height),t=e.data,n=Math.floor(5*Math.random());if(0===n)for(let e=0;e<t.length;e+=4)e+4<t.length&&(t[e]=t[e+4]),e-4>=0&&(t[e+2]=t[e-4+2]);else if(1===n){const e=Math.floor(10*Math.random())+5;for(let n=0;n<i.height;n+=e)for(let o=0;o<i.width;o+=e)if(Math.random()<.5){const a=4*(n*i.width+o),s=t[a],r=t[a+1],c=t[a+2];for(let a=0;a<e&&n+a<i.height;a++)for(let d=0;d<e&&o+d<i.width;d++){const e=4*((n+a)*i.width+(o+d));t[e]=s,t[e+1]=r,t[e+2]=c}}}else{if(2===n){const t=10*Math.random(),n=.1*Math.random(),o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").putImageData(e,0,0),a.clearRect(0,0,i.width,i.height);for(let e=0;e<i.height;e++){const s=Math.sin(e*n)*t;a.drawImage(o,0,e,i.width,1,s,e,i.width,1)}return void requestAnimationFrame(d)}if(3===n)for(let e=0;e<t.length;e+=4)Math.random()<.2&&(t[e]=255-t[e],t[e+1]=255-t[e+1],t[e+2]=255-t[e+2]);else for(let e=0;e<i.height;e++)if(e%3==0)for(let n=0;n<i.width;n++){const o=4*(e*i.width+n);t[o]=Math.min(255,1.5*t[o]),t[o+1]=Math.min(255,1.5*t[o+1]),t[o+2]=Math.min(255,1.5*t[o+2])}else if(e%3==1)for(let n=0;n<i.width;n++){const o=4*(e*i.width+n);t[o]=.5*t[o],t[o+1]=.5*t[o+1],t[o+2]=.5*t[o+2]}}a.putImageData(e,0,0)}requestAnimationFrame(d)}setInterval((()=>{c=(c+10)%360,t.style.filter=`hue-rotate(${c}deg)`}),200)}(t,n))}),100)}))},502:()=>{document.addEventListener("DOMContentLoaded",(()=>{const e="IntersectionObserver"in window,t={rootMargin:"50px 0px",threshold:.1},n=e=>{const t=e.dataset.src;t&&(console.log(`Loading ${e.tagName.toLowerCase()}: ${t}`),e.src=t,"VIDEO"===e.tagName&&e.load())},o=[...document.querySelectorAll("video[data-src]"),...document.querySelectorAll("iframe[data-src]")];if(e){const e=new IntersectionObserver(((e,t)=>{e.forEach((({isIntersecting:e,target:o})=>{e&&(n(o),t.unobserve(o))}))}),t);o.forEach((t=>e.observe(t)))}else o.forEach(n);document.querySelectorAll("[data-window]").forEach((e=>{e.addEventListener("click",(()=>{const t=document.getElementById(e.dataset.window);t&&t.querySelectorAll("video[data-src],iframe[data-src]").forEach((e=>{e.src||setTimeout((()=>n(e)),500)}))}))}))}))},568:()=>{!function(){const e={caches:{static:"cyberpunk-os-static-v1",dynamic:"cyberpunk-os-dynamic-v1",assets:"cyberpunk-os-assets-v1",api:"cyberpunk-os-api-v1"},expiration:{api:864e5,dynamic:6048e5},maxCacheSize:{dynamic:50,assets:100},debug:!1},t=["/","/index.html","/css/main.css","/css/glitch-effects.css","/js/boot-sequence.js","/js/consolidated.js","/js/utils.js","/js/window-state-manager.js","/js/asset-loader.js","/js/accessibility.js","/js/mobile-enhancements.js","/js/virtual-filesystem.js","/js/clock-manager.js","/js/workers/clock-worker.js","/js/apps/file-explorer.js","/js/apps/terminal.js","/manifest.json","/favicon.ico","/icons/icon-192x192.png","/icons/icon-512x512.png"],n=["/fonts/vt323-regular.woff2","/fonts/press-start-2p.woff2","/sounds/boot.mp3","/sounds/click.mp3","/images/background.jpg"],o=(t,n="info")=>{if(e.debug||"error"===n){const e="error"===n?"âŒ":"warn"===n?"âš ï¸":"ðŸ”§";console[n](`[ServiceWorker] ${e} ${t}`)}},i={async addToCache(e,t){try{const n=await caches.open(e);await n.addAll(t),o(`Added ${t.length} items to ${e}`)}catch(t){o(`Failed to add items to ${e}: ${t}`,"error")}},async trimCache(e,t){try{const n=await caches.open(e),i=await n.keys();if(i.length>t){o(`Trimming ${e} (${i.length} items, max: ${t})`,"warn");for(let e=0;e<i.length-t;e++)await n.delete(i[e])}}catch(t){o(`Failed to trim ${e}: ${t}`,"error")}},async deleteExpiredItems(e,t){try{const n=await caches.open(e),i=await n.keys(),a=Date.now();let s=0;for(const e of i){const o=await n.match(e);if(o){const i=o.headers.get("sw-cache-timestamp");i&&a-parseInt(i)>t&&(await n.delete(e),s++)}}s>0&&o(`Removed ${s} expired items from ${e}`)}catch(t){o(`Failed to delete expired items from ${e}: ${t}`,"error")}},addTimestamp(e){if(!e||!e.body)return e;const t=new Headers(e.headers);return t.set("sw-cache-timestamp",Date.now().toString()),new Response(e.body,{status:e.status,statusText:e.statusText,headers:t})}},a={isApiRequest:e=>e.includes("/api/"),isStaticAsset:e=>[".css",".js",".html",".json",".ico",".png",".jpg",".svg",".woff",".woff2",".ttf"].some((t=>e.endsWith(t))),isMediaAsset:e=>[".mp3",".mp4",".webm",".ogg",".wav"].some((t=>e.endsWith(t))),shouldCache(e){if("GET"!==e.method)return!1;const t=new URL(e.url);return t.origin===self.location.origin&&!t.pathname.includes("/analytics/")&&!t.pathname.includes("/tracking/")},networkFirstWithTimeout:async(e,t,n=3e3)=>new Promise((async a=>{let s;const r=new Promise((t=>{s=setTimeout((async()=>{o(`Network request timeout for ${e.url}`,"warn");const n=await caches.match(e);n?(o(`Serving from cache: ${e.url}`),t(n)):(o(`No cached version available for ${e.url}`,"warn"),t(new Response("Network request timed out",{status:408,headers:{"Content-Type":"text/plain"}})))}),n)}));try{const n=fetch(e).then((async n=>{if(clearTimeout(s),n.ok){const a=n.clone(),s=await caches.open(t);await s.put(e,i.addTimestamp(a)),o(`Cached network response: ${e.url}`)}return n}));a(Promise.race([n,r]))}catch(t){clearTimeout(s),o(`Network error for ${e.url}: ${t}`,"error");const n=await caches.match(e);n?(o(`Serving from cache after network error: ${e.url}`),a(n)):(o(`No cached version available after network error for ${e.url}`,"error"),a(new Response("Network error and no cached version available",{status:503,headers:{"Content-Type":"text/plain"}})))}}))};self.addEventListener("install",(n=>{o("Installing Service Worker"),n.waitUntil((async()=>{try{await i.addToCache(e.caches.static,t),await self.skipWaiting(),o("Service Worker installed successfully")}catch(e){o(`Installation failed: ${e}`,"error")}})())})),self.addEventListener("activate",(t=>{o("Activating Service Worker"),t.waitUntil((async()=>{try{const t=await caches.keys(),a=Object.values(e.caches);await Promise.all(t.filter((e=>!a.includes(e))).map((e=>(o(`Removing old cache: ${e}`),caches.delete(e))))),i.addToCache(e.caches.assets,n).catch((e=>o(`Failed to cache secondary assets: ${e}`,"error"))),await self.clients.claim(),o("Service Worker activated and claimed clients")}catch(e){o(`Activation failed: ${e}`,"error")}})())})),self.addEventListener("fetch",(t=>{const n=t.request;a.shouldCache(n)&&(a.isApiRequest(n.url)?t.respondWith(a.networkFirstWithTimeout(n,e.caches.api,5e3)):a.isMediaAsset(n.url)?t.respondWith((async()=>{try{const t=await caches.match(n);if(t)return o(`Serving media from cache: ${n.url}`),t;const a=await fetch(n);if(a.ok){const t=a.clone(),s=await caches.open(e.caches.assets);await s.put(n,i.addTimestamp(t)),i.trimCache(e.caches.assets,e.maxCacheSize.assets),o(`Cached media asset: ${n.url}`)}return a}catch(e){return o(`Failed to fetch media asset: ${n.url}`,"error"),new Response("Failed to fetch media asset",{status:503,headers:{"Content-Type":"text/plain"}})}})()):a.isStaticAsset(n.url)?t.respondWith((async()=>{try{const t=await caches.match(n);if(t)return o(`Serving static asset from cache: ${n.url}`),fetch(n).then((async t=>{if(t.ok){const a=await caches.open(e.caches.static);await a.put(n,i.addTimestamp(t)),o(`Updated cached static asset: ${n.url}`)}})).catch((e=>o(`Background fetch failed for ${n.url}: ${e}`,"warn"))),t;const a=await fetch(n);if(a.ok){const t=a.clone(),s=await caches.open(e.caches.static);await s.put(n,i.addTimestamp(t)),o(`Cached static asset: ${n.url}`)}return a}catch(e){return o(`Failed to fetch static asset: ${n.url}`,"error"),new Response("Failed to fetch static asset",{status:503,headers:{"Content-Type":"text/plain"}})}})()):t.respondWith((async()=>{try{const t=await fetch(n);if(t.ok){const a=t.clone(),s=await caches.open(e.caches.dynamic);await s.put(n,i.addTimestamp(a)),i.trimCache(e.caches.dynamic,e.maxCacheSize.dynamic),o(`Cached dynamic content: ${n.url}`)}return t}catch(e){o(`Network request failed for ${n.url}: ${e}`,"warn");const t=await caches.match(n);if(t)return o(`Serving from cache after network failure: ${n.url}`),t;return await caches.match("/offline.html")||new Response("You are offline and the requested resource is not cached",{status:503,headers:{"Content-Type":"text/plain"}})}})()))})),self.addEventListener("message",(t=>{o(`Message received: ${JSON.stringify(t.data)}`),"skipWaiting"===t.data.action?self.skipWaiting():"clearCache"===t.data.action?t.waitUntil((async()=>{try{if(t.data.cacheName)await caches.delete(t.data.cacheName),o(`Cleared cache: ${t.data.cacheName}`);else{const e=await caches.keys();await Promise.all(e.map((e=>caches.delete(e)))),o("Cleared all caches")}t.source&&t.source.postMessage({action:"cacheCleared",success:!0})}catch(e){o(`Failed to clear cache: ${e}`,"error"),t.source&&t.source.postMessage({action:"cacheCleared",success:!1,error:e.message})}})()):"precacheAssets"===t.data.action?t.waitUntil((async()=>{try{t.data.assets&&Array.isArray(t.data.assets)&&(await i.addToCache(e.caches.assets,t.data.assets),t.source&&t.source.postMessage({action:"assetsPrecached",success:!0}))}catch(e){o(`Failed to precache assets: ${e}`,"error"),t.source&&t.source.postMessage({action:"assetsPrecached",success:!1,error:e.message})}})()):"setDebugMode"===t.data.action&&(e.debug=!!t.data.enabled,o("Debug mode "+(e.debug?"enabled":"disabled")),t.source&&t.source.postMessage({action:"debugModeSet",enabled:e.debug}))})),self.addEventListener("periodicsync",(t=>{"cache-maintenance"===t.tag&&(o("Performing periodic cache maintenance"),t.waitUntil((async()=>{try{await i.deleteExpiredItems(e.caches.api,e.expiration.api),await i.deleteExpiredItems(e.caches.dynamic,e.expiration.dynamic),await i.trimCache(e.caches.dynamic,e.maxCacheSize.dynamic),await i.trimCache(e.caches.assets,e.maxCacheSize.assets),o("Cache maintenance completed")}catch(e){o(`Cache maintenance failed: ${e}`,"error")}})()))})),self.addEventListener("push",(e=>{if(o("Push notification received"),e.data)try{const t=e.data.json(),n={body:t.body||"New notification",icon:t.icon||"/icons/icon-192x192.png",badge:t.badge||"/icons/badge-72x72.png",vibrate:t.vibrate||[100,50,100],data:{url:t.url||"/"}};e.waitUntil(self.registration.showNotification(t.title||"Cyberpunk OS",n))}catch(e){o(`Failed to process push notification: ${e}`,"error")}else o("No data in push event","warn")})),self.addEventListener("notificationclick",(e=>{o("Notification clicked"),e.notification.close(),e.waitUntil((async()=>{try{const t=e.notification.data.url||"/",n=await self.clients.matchAll({type:"window"});for(const e of n)if(e.url===t&&"focus"in e)return void await e.focus();self.clients.openWindow&&await self.clients.openWindow(t)}catch(e){o(`Failed to handle notification click: ${e}`,"error")}})())})),o("Service Worker registered")}()},930:()=>{(()=>{window.addEventListener("load",(()=>{document.getElementById("file-explorer")&&function(){var n=document.createElement("link");n.rel="stylesheet",n.href="css/file-explorer.css",document.head.appendChild(n);var s=document.querySelector("#file-explorer .window-content");s?(s.innerHTML='\n      <div class="file-explorer-toolbar">\n        <button id="back-button">â—€ Back</button>\n        <button id="up-button">â–² Up</button>\n        <button id="new-folder-button">New Folder</button>\n        <button id="new-file-button">New File</button>\n        <input type="text" class="file-explorer-path" id="path-input" readonly>\n      </div>\n      <div class="file-explorer-container">\n        <div class="file-explorer-sidebar">\n          <div class="file-explorer-sidebar-item" data-path="C:">\n            <div class="file-explorer-sidebar-item-icon">ðŸ’¾</div>\n            <div>C: Drive</div>\n          </div>\n          <div class="file-explorer-sidebar-item" data-path="C:/Documents">\n            <div class="file-explorer-sidebar-item-icon">ðŸ“</div>\n            <div>Documents</div>\n          </div>\n          <div class="file-explorer-sidebar-item" data-path="C:/Media">\n            <div class="file-explorer-sidebar-item-icon">ðŸ“</div>\n            <div>Media</div>\n          </div>\n          <div class="file-explorer-sidebar-item" data-path="C:/Games">\n            <div class="file-explorer-sidebar-item-icon">ðŸ“</div>\n            <div>Games</div>\n          </div>\n        </div>\n        <div class="file-explorer-main">\n          <div class="file-explorer-items" id="items-container"></div>\n        </div>\n      </div>\n      <div class="file-explorer-status">0 items</div>\n    ',document.getElementById("back-button").addEventListener("click",(()=>{alert("Back functionality not implemented yet")})),document.getElementById("up-button").addEventListener("click",(()=>{t.length>1&&(t.pop(),o(t))})),document.getElementById("new-folder-button").addEventListener("click",i),document.getElementById("new-file-button").addEventListener("click",a),document.querySelectorAll(".file-explorer-sidebar-item").forEach((e=>{e.addEventListener("click",(function(){o(this.getAttribute("data-path").split("/"))}))})),o(t),function(){try{var t=localStorage.getItem("fileSystem");t&&(e=JSON.parse(t))}catch(e){console.error("Error loading file system:",e)}}()):console.error("File explorer window content element not found")}()}));var e={"C:":{type:"drive",children:{Documents:{type:"folder",children:{"README.txt":{type:"file",content:"Welcome to F1LL3R's R4D W385173!\n\nThis is a cyberpunk-themed desktop simulation with various interactive elements.",icon:"file"},"Projects.txt":{type:"file",content:"Current Projects:\n- Experimental Documentary\n- Narrative Design\n- Game Worlds & Story Maps",icon:"file"}}},Media:{type:"folder",children:{Images:{type:"folder",children:{"profile.png":{type:"file",content:"https://cdn.glitch.global/09e9ba26-fd4e-41f2-88c1-651c3d32a01a/Benny.png?v=1746392528967",icon:"image"}}},Videos:{type:"folder",children:{}},Music:{type:"folder",children:{}}}},Games:{type:"folder",children:{"Spaceworm.txt":{type:"file",content:"Spaceworm is a trippy version of the classic Snake game with psychedelic visuals and effects.",icon:"file"}}}}}},t=["C:"],n=[];function o(i){t=i,document.getElementById("path-input").value=i.join("/");var a=r(i);(!a||"folder"!==a.type&&"drive"!==a.type)&&(t.pop(),a=r(t)),n=[];var c=document.getElementById("items-container");if(c.innerHTML="",a&&("folder"===a.type||"drive"===a.type)){var d=a.children;Object.keys(d).sort(((e,t)=>{var n=d[e],o=d[t];return"folder"===n.type&&"folder"!==o.type?-1:"folder"!==n.type&&"folder"===o.type?1:e.localeCompare(t)})).forEach((e=>{var i=d[e],a="file-icon",l="ðŸ“„";"folder"===i.type?(a="folder-icon",l="ðŸ“"):"image"===i.icon?(a="image-icon",l="ðŸ–¼ï¸"):"audio"===i.icon?(a="audio-icon",l="ðŸŽµ"):"video"===i.icon&&(a="video-icon",l="ðŸŽ¬");var u=document.createElement("div");u.className="file-explorer-item",u.setAttribute("data-name",e),u.setAttribute("data-type",i.type),u.innerHTML=`\n          <div class="file-explorer-item-icon ${a}">${l}</div>\n          <div class="file-explorer-item-name">${e}</div>\n        `,u.addEventListener("click",(function(e){e.ctrlKey?function(e){var t=e.getAttribute("data-name");e.classList.contains("selected")?(e.classList.remove("selected"),n=n.filter((e=>e!==t))):(e.classList.add("selected"),n.push(t)),s()}(this):(document.querySelectorAll(".file-explorer-item.selected").forEach((e=>{e.classList.remove("selected")})),n=[],s(),function(e){e.classList.add("selected"),n.push(e.getAttribute("data-name")),s()}(this))})),u.addEventListener("dblclick",(()=>{!function(e){var n=t.slice();n.push(e);var i,a,s=r(n);s&&("folder"===s.type||"drive"===s.type?o(n):(i=s,"txt"===(a=e).split(".").pop().toLowerCase()?function(e,t){var n=document.createElement("div");n.className="dialog-overlay",n.innerHTML=`\n      <div class="dialog">\n        <div class="dialog-title">${e}</div>\n        <div class="dialog-content">\n          <textarea class="dialog-input" style="height: 200px; resize: none;" readonly>${t}</textarea>\n        </div>\n        <div class="dialog-buttons">\n          <button class="dialog-button" id="close-dialog">Close</button>\n        </div>\n      </div>\n    `,document.body.appendChild(n),document.getElementById("close-dialog").addEventListener("click",(()=>{document.body.removeChild(n)}))}(a,i.content):"image"===i.icon?function(e,t){var n=document.createElement("div");n.className="dialog-overlay",n.innerHTML=`\n      <div class="dialog" style="width: auto; max-width: 80vw;">\n        <div class="dialog-title">${e}</div>\n        <div class="dialog-content" style="text-align: center;">\n          <img src="${t}" style="max-width: 100%; max-height: 60vh;" alt="${e}">\n        </div>\n        <div class="dialog-buttons">\n          <button class="dialog-button" id="close-dialog">Close</button>\n        </div>\n      </div>\n    `,document.body.appendChild(n),document.getElementById("close-dialog").addEventListener("click",(()=>{document.body.removeChild(n)}))}(a,i.content):alert("Opening file: "+a)))}(e)})),c.appendChild(u)}))}s(),document.querySelectorAll(".file-explorer-sidebar-item").forEach((e=>{e.getAttribute("data-path")===t.join("/")?e.classList.add("active"):e.classList.remove("active")})),function(){try{localStorage.setItem("fileSystem",JSON.stringify(e))}catch(e){console.error("Error saving file system:",e)}}()}function i(){var e=document.createElement("div");e.className="dialog-overlay",e.innerHTML='\n      <div class="dialog">\n        <div class="dialog-title">Create New Folder</div>\n        <div class="dialog-content">\n          <input type="text" class="dialog-input" id="folder-name-input" placeholder="Folder Name">\n        </div>\n        <div class="dialog-buttons">\n          <button class="dialog-button" id="cancel-dialog">Cancel</button>\n          <button class="dialog-button" id="create-folder">Create</button>\n        </div>\n      </div>\n    ',document.body.appendChild(e);var n=document.getElementById("folder-name-input");n.focus(),document.getElementById("cancel-dialog").addEventListener("click",(()=>{document.body.removeChild(e)})),document.getElementById("create-folder").addEventListener("click",(()=>{var i=n.value.trim();i?(function(e){var n=r(t);n.children[e]?alert('A folder or file with the name "'+e+'" already exists'):(n.children[e]={type:"folder",children:{}},o(t))}(i),document.body.removeChild(e)):alert("Please enter a folder name")})),n.addEventListener("keydown",(e=>{"Enter"===e.key&&document.getElementById("create-folder").click()}))}function a(){var e=document.createElement("div");e.className="dialog-overlay",e.innerHTML='\n      <div class="dialog">\n        <div class="dialog-title">Create New File</div>\n        <div class="dialog-content">\n          <input type="text" class="dialog-input" id="file-name-input" placeholder="File Name">\n          <textarea class="dialog-input" id="file-content-input" placeholder="File Content" style="height: 150px; resize: none;"></textarea>\n        </div>\n        <div class="dialog-buttons">\n          <button class="dialog-button" id="cancel-dialog">Cancel</button>\n          <button class="dialog-button" id="create-file">Create</button>\n        </div>\n      </div>\n    ',document.body.appendChild(e);var n=document.getElementById("file-name-input");n.focus(),document.getElementById("cancel-dialog").addEventListener("click",(()=>{document.body.removeChild(e)})),document.getElementById("create-file").addEventListener("click",(()=>{var i=n.value.trim(),a=document.getElementById("file-content-input").value;i?(function(e,n){var i=r(t);if(i.children[e])alert('A folder or file with the name "'+e+'" already exists');else{var a="file",s=e.split(".").pop().toLowerCase();["jpg","jpeg","png","gif","bmp"].includes(s)?a="image":["mp3","wav","ogg"].includes(s)?a="audio":["mp4","webm","avi","mov"].includes(s)&&(a="video"),i.children[e]={type:"file",content:n,icon:a},o(t)}}(i,a),document.body.removeChild(e)):alert("Please enter a file name")})),n.addEventListener("keydown",(e=>{"Enter"===e.key&&document.getElementById("file-content-input").focus()}))}function s(){var e=document.querySelector(".file-explorer-status"),t=document.querySelectorAll(".file-explorer-item").length,o=n.length;e.textContent=0===o?t+" item"+(1!==t?"s":""):o+" of "+t+" item"+(1!==t?"s":"")+" selected"}function r(t){for(var n=e,o=0;o<t.length;o++){var i=t[o];if(n[i])n=n[i];else{if(!n.children||!n.children[i])return null;n=n.children[i]}}return n}})()},957:()=>{(()=>{const e=(...e)=>console.log("ðŸŽ¬",...e),t=(e,t="#00ffff")=>`data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="320" height="240"%3E%3Crect width="320" height="240" fill="%23000"/%3E%3Ctext x="50%25" y="50%25" font-family="monospace" font-size="14" text-anchor="middle" fill="${encodeURIComponent(t)}"%3E${encodeURIComponent(e)}%3C/text%3E%3C/svg%3E`,n=n=>{try{const{tagName:o,src:i}=n;(e=>!e||["undefined","null"].includes(e.trim()))(i)&&(n.removeAttribute("src"),"VIDEO"!==o||n.querySelector("source")||(n.poster||=t("No Video"))),((e,t)=>{e.dataset.errorHandler||(e.addEventListener("error",t),e.dataset.errorHandler="true")})(n,(i=>{const a=i.target.error?.message||"Unknown error";e(`${o.toLowerCase()} error:`,a),"VIDEO"!==o||n.poster||(n.poster=t("Error","#ff0000"))})),n.hasAttribute("autoplay")&&(n.muted=!0,n.playsInline=!0),"VIDEO"===o&&n.src&&n.autoplay&&requestAnimationFrame((()=>n.load()))}catch(e){console.error("Media fix failed for",n,e)}};document.addEventListener("DOMContentLoaded",(()=>{e("Initializing Media Loading Fixâ€¦"),document.querySelectorAll("video,audio").forEach(n),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof Element&&(["VIDEO","AUDIO"].includes(e.tagName)&&n(e),e.querySelectorAll("video,audio").forEach(n))}))}))})).observe(document.body,{childList:!0,subtree:!0}),(()=>{if("function"!=typeof window.openWindow)return;const t=window.openWindow;window.openWindow=o=>{const i=t(o);return i&&setTimeout((()=>{i.querySelectorAll("video,audio").forEach(n),e("Checked media in window:",o)}),100),i}})(),e("Media Loading Fix initialized")}))})()}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return n[e](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var a=Object.create(null);i.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var r=2&o&&n;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,i.d(a,s),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";i(257),i(275),i(568),i(930),i(372),i(186),i(502),i(957),i(26),i(413),i(208),i(455)})()})();